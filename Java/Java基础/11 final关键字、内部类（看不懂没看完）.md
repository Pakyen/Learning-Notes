# 11 final关键字、内部类（看不懂没看完）

# 1 final关键字的概念和四种用法
final关键字代表最终、不可改变的

常见用法：
	1. 可以用来修饰 类
	2. 可以用来修饰 方法
	3. 还可以用来修饰 局部变量
	4. 还可以用来修饰 成员变量

## 1.1 final修饰类
```
public final class 类名称{
…
}
```
含义：当前这个类不能有任何的子类（太监类）
注意：如果一个类是final的，那么其中所有的成员方法都无法进行覆盖重写

## 1.2 final修饰成员方法
当final关键字用来修饰一个方法的时候，这个方法就是最终方法，也就是不能覆盖重写
```
修饰符 final 返回值类型 方法名称（参数列表）{
...
} 
```
注意：对于类、方法来说，abstract关键字和final关键字不能同时使用，因为矛盾

## 1.3 final修饰局部变量
一旦使用final用来修饰局部变量，那么这个变量就不能进行更改
一次赋值，终生不变
![](11%20final%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%88%E7%9C%8B%E4%B8%8D%E6%87%82%E6%B2%A1%E7%9C%8B%E5%AE%8C%EF%BC%89/6194D9CE-AB2F-40BF-AEFF-94ECEDF62ECC.png)
	* 对于基本类型来说，不可变说的是变量当中的数据不可改变
	* 对于引用类型来说，不可变说的是变量当中的地址值不可改变

## 1.4 final修饰成员变量
	1. 由于成员变量具有默认值，所以用了final之后必须手动赋值，不会再给默认值了
	2. 对于final的成员变量，要么使用直接赋值，要么通过构造方法赋值，二者选其一
![](11%20final%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%88%E7%9C%8B%E4%B8%8D%E6%87%82%E6%B2%A1%E7%9C%8B%E5%AE%8C%EF%BC%89/%E6%88%AA%E5%B1%8F2021-02-04%2014.27.43.png)
	3. 必须保证类当中所有重载的构造方法,都最终会对final的成员变量进行赋值

# 2 四种权限修饰符
public > protected > default > private
![](11%20final%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%88%E7%9C%8B%E4%B8%8D%E6%87%82%E6%B2%A1%E7%9C%8B%E5%AE%8C%EF%BC%89/%E6%88%AA%E5%B1%8F2021-02-04%2014.42.31.png)
	* Private关键字只有类自己才能使用
	* default只有自己和邻居能使用
	* protected 只有自己、邻居、儿子能使用
	* public对所有人都可用 

# 3 内部类的概念与分类
如果一个事物的内部包含另一个事物，那么就是一个类包含另一个类
如，身体和心脏的关系；汽车和发动机的关系

Java中内部类的分类：
	1. 成员内部类
	2. 局部内部类（包含匿名内部类）

## 3.1 成员内部类的定义
成员内部类的定义格式：
```
修饰符 class 类名称{
	修饰符 class 类名称{
	}
}
```
~注意：内用外，随意访问；但是外用内就一定需要借助内部类对象~

## 3.2 成员内部类的使用
有两种方式：
	1. ::间接::：在外部类的方法当中，使用内部类；然后main只是调用外部类方法
![](11%20final%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%88%E7%9C%8B%E4%B8%8D%E6%87%82%E6%B2%A1%E7%9C%8B%E5%AE%8C%EF%BC%89/27805F44-89FC-41D0-B895-E11383B3CA9D.png)
![](11%20final%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%88%E7%9C%8B%E4%B8%8D%E6%87%82%E6%B2%A1%E7%9C%8B%E5%AE%8C%EF%BC%89/%E6%88%AA%E5%B1%8F2021-02-04%2015.15.44.png)
	2. ::直接方式：公式::
> 【外部类名称.内部类名称 对象名 = new 外部类名称().new内部类名称();】  
![](11%20final%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%88%E7%9C%8B%E4%B8%8D%E6%87%82%E6%B2%A1%E7%9C%8B%E5%AE%8C%EF%BC%89/%E6%88%AA%E5%B1%8F2021-02-04%2018.47.03.png)

## 3.3 内部类的同名变量访问
如果出现了重名，需要使用外部类的变量时，格式：
> 外部类.this.外部类成员变量  

![](11%20final%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%EF%BC%88%E7%9C%8B%E4%B8%8D%E6%87%82%E6%B2%A1%E7%9C%8B%E5%AE%8C%EF%BC%89/%E6%88%AA%E5%B1%8F2021-02-04%2018.53.58.png)

# 4 局部内部类
如果一个类定义在一个方法内部，那么这就是一个局部内部类
“局部”：只有当前所属的方法才能使用它，出了这个方法外面就不能用了 
```
定义格式：
修饰符 class 外部类{
	修饰符 返回值类型 外部类方法名称(参数列表){
		class 局部内部类{
			…
		}
	} 
}
```

# 类的修饰符summary
类的权限修饰符:
public > protected > (default) > private

定义一个类的时候，权限修饰符规则：
	1. 外部类：public / (default)
	2. 成员内部类：public / protected / (default) / private
	3. 局部内部类：什么都不能写

# 5 局部内部类的final问题

<a href='12_%E5%B1%80%E9%83%A8%E5%86%85%E9%83%A8%E7%B1%BB%E7%9A%84final%E9%97%AE%E9%A2%98.flv'>12_局部内部类的final问题.flv</a><a href='13_%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB.flv'>13_匿名内部类.flv</a><a href='14_%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9.flv'>14_匿名内部类的注意事项.flv</a><a href='15_%E7%B1%BB%E4%BD%9C%E4%B8%BA%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B.flv'>15_类作为成员变量类型.flv</a>
<a href='16_%E6%8E%A5%E5%8F%A3%E4%BD%9C%E4%B8%BA%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B.flv'>16_接口作为成员变量类型.flv</a>
<a href='17_%E6%8E%A5%E5%8F%A3%E4%BD%9C%E4%B8%BA%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%E5%92%8C%E6%88%96%E8%BF%94%E5%9B%9E%E5%80%BC.flv'>17_接口作为方法的参数和或返回值.flv</a><a href='18_%E5%8F%91%E7%BA%A2%E5%8C%85%E6%A1%88%E4%BE%8B_%E5%88%86%E6%9E%90.flv'>18_发红包案例_分析.flv</a><a href='19_%E5%8F%91%E7%BA%A2%E5%8C%85%E6%A1%88%E4%BE%8B_%E6%99%AE%E9%80%9A%E7%BA%A2%E5%8C%85%E5%B9%B3%E5%9D%87%E5%88%86%E5%8F%91.flv'>19_发红包案例_普通红包平均分发.flv</a><a href='20_%E5%8F%91%E7%BA%A2%E5%8C%85%E6%A1%88%E4%BE%8B_%E6%89%8B%E6%B0%94%E7%BA%A2%E5%8C%85%E9%9A%8F%E6%9C%BA%E5%88%86%E5%8F%91.flv'>20_发红包案例_手气红包随机分发.flv</a>