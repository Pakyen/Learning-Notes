# 2-3 JDK9与编译器优化

## 1. JDK9的JShell简单使用
适用于轻量的使用场景

## 1.1 Jshell的启动
![](2-3%20JDK9%E4%B8%8E%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/C2A73DA7-ED24-46D3-983F-476AA1E1EAB7.png)

## 1.2 打印输出Hello world
之前需要新建java文件，定义类、方法，再javac编译，java运行

现在只需要:
![](2-3%20JDK9%E4%B8%8E%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/%E6%88%AA%E5%B1%8F2021-01-04%2014.39.50.png)

Jshell其实就是个脚本方式的小便签

## 2. 编译器的两点优化
1. 对于byte/short/char 
如果右侧数据没有超出范围，那么javac编译器会自动、隐含地为我们补上强制类型转换（byte)(short)(chart)

![](2-3%20JDK9%E4%B8%8E%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/23E9B679-D499-4B64-9CA3-76610B0A3FF3.png)

2. 编译器的常量优化：
在给变量赋值的时候，如果表达式右侧全是常量，没有变量。
那么javac会直接将若干个常量表达式计算得到结果。
![](2-3%20JDK9%E4%B8%8E%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/8CF53791-9B1B-43A1-A37F-44249588859E.png)
注意事项：一旦表达式中有变量参与，那么就不能进行这种优化了